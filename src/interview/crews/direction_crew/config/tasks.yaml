analyze_interview_progress:
  description: >
    Проанализировать текущее состояние интервью и прогресс кандидата.
    
    Входные данные:
    - Информация о кандидате: {candidate_info}
    - Целевой грейд: {target_grade}
    - Позиция: {position}
    - Текущие оценки по hard skills: {hard_skills_scores}
    - Текущие оценки по soft skills: {soft_skills_scores}
    - Количество вопросов: {question_count}
    - Текущая сложность: {current_difficulty}
    - Контекст последней оценки: {evaluator_context}
    - История последних 3 вопросов и ответов: {recent_history}
    
    Задача:
    1. Оцените общий прогресс интервью
    2. Проанализируйте покрытие различных тем
    3. Определите области, требующие дополнительной проверки
    4. Оцените соответствие текущей сложности уровню кандидата
    5. Выявите паттерны в ответах (сильные/слабые области)
    
    Подготовьте детальный анализ текущей ситуации на русском языке.
  expected_output: >
    Структурированный анализ включающий:
    - Оценку покрытия тем (какие темы проверены хорошо, какие нет)
    - Анализ уровня кандидата по каждой теме
    - Выявленные сильные и слабые стороны
    - Рекомендации по дальнейшим темам для проверки
    - Оценку адекватности текущей сложности

determine_next_strategy:
  description: >
    На основе анализа определить стратегию следующего шага интервью.
    
    Входные данные (из предыдущей задачи + дополнительно):
    - Анализ прогресса интервью
    - Текущий топик: {current_topic}
    - Количество вопросов по текущему топику: {topic_question_count}
    - Общее количество вопросов: {question_count}
    - Максимальное количество вопросов: 10
    
    Критерии для принятия решений:
    
    CONTINUE (продолжить текущую тему):
    - Кандидат показывает нестабильные результаты
    - Тема недостаточно раскрыта (менее 3 вопросов)
    - Есть сомнения в понимании базовых концепций
    
    SWITCH_TOPIC (сменить тему):
    - Тема достаточно проверена (>2 вопросов)
    - Результаты по теме стабильны
    - Есть другие важные темы для проверки
    - Обнаружен явный пробел в другой области
    
    DIFFICULTY_UP (повысить сложность):
    - Кандидат уверенно отвечает на текущем уровне (score > 0.5)
    - Минимум 2 успешных ответа подряд
    - Текущая сложность ниже expected уровня для грейда
    
    DIFFICULTY_DOWN (понизить сложность):
    - Кандидат испытывает трудности (score < 0.2)
    - 2+ слабых ответа подряд
    - Текущая сложность слишком высока
    
    FINISH (завершить интервью):
    - Достигнуто 20+ вопросов
    - Все ключевые темы проверены (минимум 3 вопроса каждая)
    - Четкое понимание уровня кандидата
    - ИЛИ: явное несоответствие требуемому грейду (при 10+ вопросах)
    
    Определите оптимальное действие и обоснуйте его.
    
    В случае, если необходимо продолжить задавать вопросы, то необзодимо:
    1. определить тему следующего вопроса

  expected_output: >
    Стратегическое решение включающее:
    - Выбранное действие (enum StrategyAction) и темы вопросов если надо
    - Детальное обоснование решения
    Формат: структурированное сообщение StrategistContext со всеми заполненными полями в соответствии с моделью.
    Все рамышления необходимо разместить в поле thoughts модели ответа, ответ без размышлений не принимается.
    размышления и обоснования ограничены 5 предложениями.
    Нельзя выводить никаких лишних символов, кроме данного сообщения, нельзя использовать markdown или печатать свои размышления вне соответствующего поля сообщения
    json нужно вывести максимально кратко без переносов и убедиться в его валидности
  context:
    - analyze_interview_progress
